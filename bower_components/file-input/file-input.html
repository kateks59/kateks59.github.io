<html><head><link rel="import" href="../polymer/polymer-element.html"><link rel="import" href="../polymer/lib/utils/flattened-nodes-observer.html"><link rel="import" href="../paper-button/paper-button.html"></head><body><dom-module id="file-input"><template><style>:host{display:block;}[hidden]{display:none;}</style><input id="input" type="file" accept="[[accept]]" on-change="_filesChanged" multiple="[[multiple]]" required="[[required]]" hidden=""><slot id="slot" name="input-button"><paper-button on-click="_pick">Choose File</paper-button></slot></template><script>class FileInput extends Polymer.Element{static get is(){return'file-input'}static get properties(){return{multiple:{type:Boolean,reflectToAttribute:!0,value:!1},accept:{type:String,reflectToAttribute:!0},files:{type:Array,value:()=>[]}}}connectedCallback(){super.connectedCallback(),this._observer=new Polymer.FlattenedNodesObserver(this.$.slot,(a)=>{this._addedInputButton(a.addedNodes),this._removedInputButton(a.removedNodes)})}_pick(a){this.$.input.click(),a.preventDefault()}_addedInputButton(a){const b=this._getElementNodes(a);0<b.length&&b[0].addEventListener('click',this._pick.bind(this))}_removedInputButton(a){const b=this._getElementNodes(a);0<b.length&&b[0].removeEventListener('click',this._pick.bind(this))}_getElementNodes(a){return a.filter((a)=>a.nodeType===Node.ELEMENT_NODE)}_filesChanged(a){const b=a.target.files;this.dispatchEvent(new CustomEvent('changed-files',{bubbles:!0,composed:!0,detail:b})),this.set('files',b)}}window.customElements.define(FileInput.is,FileInput);</script></dom-module></body></html>